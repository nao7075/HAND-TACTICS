<!DOCTYPE html><html><head><meta charset='UTF-8'><title>PunTurnManager.cs - 詳細</title><link rel='stylesheet' href='../styles.css'></head><body><div class='container'><div class='nav-bar'><a href='../index.html'>&lt; トップページへ戻る</a> | <span>File: PunTurnManager.cs</span></div><div style='background:#666; color:white; padding:10px 15px; border-radius:5px; margin-bottom:20px;'>File Path: <span style='opacity:0.8'>Assets/Photon/PhotonUnityNetworking/UtilityScripts/TurnBased/PunTurnManager.cs</span></div><div id='PunTurnManager' style='border:1px solid #ccc; border-top:none; padding:20px; background:white; margin-bottom:40px; border-radius:5px;'><h3><span><span class='tag tag-cls'>Class</span> PunTurnManager <span style='color:#7f8c8d; font-weight:normal; font-size:0.9em;'>: MonoBehaviourPunCallbacks, IOnEventCallback</span></span><span style='font-size:0.8em; font-weight:normal; color:#666;'>Photon.Pun.UtilityScripts</span></h3><div class='desc-box'>Pun turnBased Game manager.<br/>Provides an Interface (IPunTurnManagerCallbacks) for the typical turn flow and logic, between players<br/>Provides Extensions for Player, Room and RoomInfo to feature dedicated api for TurnBased Needs</div><h4>フィールド (Variables)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th><th>属性・制約</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>sender</b></td><td class='center'><code>Player</code></td><td>External definition for better garbage collection management, used in ProcessEvent.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>TurnDuration</b></td><td class='center'><code>Single</code></td><td>The duration of the turn in seconds.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>TurnManagerListener</b></td><td class='center'><code>IPunTurnManagerCallbacks</code></td><td>Gets the elapsed time in the current turn in seconds</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>finishedPlayers</b></td><td class='center'><code>HashSet`1</code></td><td>The finished players.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>TurnManagerEventOffset</b></td><td class='center'><code>Byte</code></td><td>The turn manager event offset event message byte. Used internaly for defining data in Room Custom Properties</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>EvMove</b></td><td class='center'><code>Byte</code></td><td>The Move event message byte. Used internaly for saving data in Room Custom Properties</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>EvFinalMove</b></td><td class='center'><code>Byte</code></td><td>The Final Move event message byte. Used internaly for saving data in Room Custom Properties</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>_isOverCallProcessed</b></td><td class='center'><code>Boolean</code></td><td>Wraps accessing the &quot;turn&quot; custom properties of a room.</td><td class='center'></td></tr></tbody></table><h4>プロパティ (Properties)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Turn</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td>Wraps accessing the &quot;turn&quot; custom properties of a room.
note: this will set a property in the room, which is available to the other players.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ElapsedTimeInTurn</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Single</code></td><td>Gets the elapsed time in the current turn in seconds</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RemainingSecondsInTurn</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Single</code></td><td>Gets the elapsed time in the current turn in seconds</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsCompletedByAll</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Gets the elapsed time in the current turn in seconds</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsFinishedByMe</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Gets the elapsed time in the current turn in seconds</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsOver</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Gets the elapsed time in the current turn in seconds</td></tr></tbody></table><h4>メソッド (Methods)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>引数</th><th>戻り値</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-magic'>Event</span><b>Start</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Unity Event Function</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-magic'>Event</span><b>Update</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Unity Event Function</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>BeginTurn</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Tells the TurnManager to begins a new turn.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SendMove</b></td><td><small>Object move, Boolean finished</small></td><td class='center'><code>Void</code></td><td>Call to send an action. Optionally finish the turn, too.
The move object can be anything. Try to optimize though and only send the strict minimum set of information to define the turn move.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>GetPlayerFinishedTurn</b></td><td><small>Player player</small></td><td class='center'><code>Boolean</code></td><td>Gets if the player finished the current turn.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>ProcessOnEvent</b></td><td><small>Byte eventCode, Object content, Int32 senderId</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnEvent</b></td><td><small>EventData photonEvent</small></td><td class='center'><code>Void</code></td><td>Called by PhotonNetwork.OnEventCall registration</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnRoomPropertiesUpdate</b></td><td><small>Hashtable propertiesThatChanged</small></td><td class='center'><code>Void</code></td><td>Called by PhotonNetwork</td></tr></tbody></table></div></div></body></html>