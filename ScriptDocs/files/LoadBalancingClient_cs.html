<!DOCTYPE html><html><head><meta charset='UTF-8'><title>LoadBalancingClient.cs - 詳細</title><link rel='stylesheet' href='../styles.css'></head><body><div class='container'><div class='nav-bar'><a href='../index.html'>&lt; トップページへ戻る</a> | <span>File: LoadBalancingClient.cs</span></div><div style='background:#666; color:white; padding:10px 15px; border-radius:5px; margin-bottom:20px;'>File Path: <span style='opacity:0.8'>Assets/Photon/PhotonRealtime/Code/LoadBalancingClient.cs</span></div><div id='LoadBalancingClient' style='border:1px solid #ccc; border-top:none; padding:20px; background:white; margin-bottom:40px; border-radius:5px;'><h3><span><span class='tag tag-cls'>Class</span> LoadBalancingClient <span style='color:#7f8c8d; font-weight:normal; font-size:0.9em;'>: IPhotonPeerListener</span></span><span style='font-size:0.8em; font-weight:normal; color:#666;'>Photon.Realtime</span></h3><div class='desc-box'>This class implements the Photon LoadBalancing workflow by using a LoadBalancingPeer.<br/>It keeps a state and will automatically execute transitions between the Master and Game Servers.<br/>Creates a LoadBalancingClient with UDP protocol or the one specified.<br/>Creates a LoadBalancingClient, setting various values needed before connecting.</div><h4>フィールド (Variables)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th><th>属性・制約</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AuthMode</b></td><td class='center'><code>AuthModeOption</code></td><td>Enables the new Authentication workflow.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>EncryptionMode</b></td><td class='center'><code>EncryptionMode</code></td><td>Realtime apps are for gaming / interaction. Also used by PUN 2.
Defines how the communication gets encrypted.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>tokenCache</b></td><td class='center'><code>Object</code></td><td>Internally used cache for the server&#39;s token. Identifies a user/session and can be used to rejoin.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>NameServerHost</b></td><td class='center'><code>String</code></td><td>Name Server Host Name for Photon Cloud. Without port and without any prefix.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-static'>S</span><b>ProtocolToNameServerPort</b></td><td class='center'><code>Dictionary`2</code></td><td>Name Server port per protocol (the UDP port is different than TCP, etc).</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ServerPortOverrides</b></td><td class='center'><code>PhotonPortDefinition</code></td><td>Defines overrides for server ports. Used per server-type if &gt; 0. Important: You must change these when the protocol changes!</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ProxyServerAddress</b></td><td class='center'><code>String</code></td><td>Defines a proxy URL for WebSocket connections. Can be the proxy or point to a .pac file.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>state</b></td><td class='center'><code>ClientState</code></td><td>Backing field for property.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ConnectionCallbackTargets</b></td><td class='center'><code>ConnectionCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>MatchMakingCallbackTargets</b></td><td class='center'><code>MatchMakingCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>InRoomCallbackTargets</b></td><td class='center'><code>InRoomCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>LobbyCallbackTargets</b></td><td class='center'><code>LobbyCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>WebRpcCallbackTargets</b></td><td class='center'><code>WebRpcCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>ErrorInfoCallbackTargets</b></td><td class='center'><code>ErrorInfoCallbacksContainer</code></td><td>Wraps up the target objects for a group of callbacks, so they can be called conveniently.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SystemConnectionSummary</b></td><td class='center'><code>SystemConnectionSummary</code></td><td>After a to a connection loss or timeout, this summarizes the most relevant system conditions which might have contributed to the loss.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>EnableLobbyStatistics</b></td><td class='center'><code>Boolean</code></td><td>If enabled, the client will get a list of available lobbies from the Master Server.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>lobbyStatistics</b></td><td class='center'><code>List`1</code></td><td>Internal lobby stats cache, used by LobbyStatistics.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>lastJoinType</b></td><td class='center'><code>JoinType</code></td><td>Internally used to decide if a room must be created or joined on game server.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>enterRoomParamsCache</b></td><td class='center'><code>EnterRoomParams</code></td><td>Used when the client arrives on the GS, to join the room with the correct values.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>failedRoomEntryOperation</b></td><td class='center'><code>OperationResponse</code></td><td>Used to cache a failed &quot;enter room&quot; operation on the Game Server, to return to the Master Server before calling a fail-callback.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-static'>S</span><b>FriendRequestListMax</b></td><td class='center'><code>Int32</code></td><td>Maximum of userIDs that can be sent in one friend list request.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>friendListRequested</b></td><td class='center'><code>String[]</code></td><td>Contains the list of names of friends to look up their state on the server.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RegionHandler</b></td><td class='center'><code>RegionHandler</code></td><td>Contains the list if enabled regions this client may use. Null, unless the client got a response to OpGetRegions.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>bestRegionSummaryFromStorage</b></td><td class='center'><code>String</code></td><td>Stores the best region summary of a previous session to speed up connecting.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SummaryToCache</b></td><td class='center'><code>String</code></td><td>Set when the best region pinging is done.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>connectToBestRegion</b></td><td class='center'><code>Boolean</code></td><td>Internal connection setting/flag. If the client should connect to the best region or not.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>callbackTargetChanges</b></td><td class='center'><code>Queue`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>callbackTargets</b></td><td class='center'><code>HashSet`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>NameServerPortInAppSettings</b></td><td class='center'><code>Int32</code></td><td></td><td class='center'></td></tr></tbody></table><h4>プロパティ (Properties)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>LoadBalancingPeer</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>LoadBalancingPeer</code></td><td>The client uses a LoadBalancingPeer as API to communicate with the server.
This is public for ease-of-use: Some methods like OpRaiseEvent are not relevant for the connection state and don&#39;t need a override.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SerializationProtocol</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>SerializationProtocol</code></td><td>Gets or sets the binary protocol version used by this client</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AppVersion</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>Gets or sets the binary protocol version used by this client</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AppId</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>The AppID as assigned from the Photon Cloud. If you host yourself, this is the &quot;regular&quot; Photon Server Application Name (most likely: &quot;LoadBalancing&quot;).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ClientType</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>ClientAppType</code></td><td>The ClientAppType defines which sort of AppId should be expected. The LoadBalancingClient supports Realtime and Voice app types. Default: Realtime.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AuthValues</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>AuthenticationValues</code></td><td>User authentication values to be sent to the Photon server right after connecting.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ExpectedProtocol</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Nullable`1</code></td><td>Optionally contains a protocol which will be used on Master- and GameServer.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>TokenForInit</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Object</code></td><td>Simplifies getting the token for connect/init requests, if this feature is enabled.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsUsingNameServer</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Boolean</code></td><td>True if this client uses a NameServer to get the Master Server address.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>NameServerAddress</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>String</code></td><td>Name Server Address for Photon Cloud (based on current protocol). You can use the default values and usually won&#39;t have to set this value.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>UseAlternativeUdpPorts</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Boolean</code></td><td>Replaced by ServerPortOverrides.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>EnableProtocolFallback</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Boolean</code></td><td>Enables a fallback to another protocol in case a connect to the Name Server fails.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CurrentServerAddress</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>String</code></td><td>The currently used server address (if any). The type of server is define by Server property.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>MasterServerAddress</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>Your Master Server address. In PhotonCloud, call ConnectToRegionMaster() to find your Master Server.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>GameServerAddress</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>The game server&#39;s address for a particular room. In use temporarily, as assigned by master.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Server</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>ServerConnection</code></td><td>The server this client is currently connected or connecting to.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>State</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>ClientState</code></td><td>Current state this client is in. Careful: several states are &quot;transitions&quot; that lead to other states.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsConnected</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Returns if this client is currently connected or connecting to some type of server.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsConnectedAndReady</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>A refined version of IsConnected which is true only if your connection is ready to send operations.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>DisconnectedCause</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>DisconnectCause</code></td><td>Summarizes (aggregates) the different causes for disconnects of a client.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>InLobby</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Internal value if the client is in a lobby.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CurrentLobby</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>TypedLobby</code></td><td>Internal value if the client is in a lobby.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>LocalPlayer</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Player</code></td><td>The local player is never null but not valid unless the client is in a room, too. The ID will be -1 outside of rooms.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>NickName</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>The nickname of the player (synced with others). Same as client.LocalPlayer.NickName.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>UserId</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>An ID for this user. Sent in OpAuthenticate when you connect. If not set, the PlayerName is applied during connect.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CurrentRoom</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Room</code></td><td>The current room this client is connected to (null if none available).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>InRoom</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Is true while being in a room (this.state == ClientState.Joined).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>PlayersOnMasterCount</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td>Is true while being in a room (this.state == ClientState.Joined).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>PlayersInRoomsCount</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td>Statistic value available on master server: Players in rooms (playing).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RoomsCount</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td>Statistic value available on master server: Rooms currently created.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsFetchingFriendList</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>Internal flag to know if the client currently fetches a friend list.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CloudRegion</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>The cloud region this client connects to. Set by ConnectToRegionMaster(). Not set if you don&#39;t use a NameServer!</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CurrentCluster</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>String</code></td><td>The cluster name provided by the Name Server.</td></tr></tbody></table><h4>コンストラクタ (Constructors)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>引数</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>LoadBalancingClient</b></td><td><small>ConnectionProtocol protocol</small></td><td>Constructor</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>LoadBalancingClient</b></td><td><small>String masterAddress, String appId, String gameVersion, ConnectionProtocol protocol</small></td><td>Constructor</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-static'>S</span><b>LoadBalancingClient</b></td><td><small></small></td><td>Constructor</td></tr></tbody></table><h4>メソッド (Methods)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>引数</th><th>戻り値</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>GetNameServerAddress</b></td><td><small></small></td><td class='center'><code>String</code></td><td>Gets the NameServer Address (with prefix and port), based on the set protocol (this.LoadBalancingPeer.UsedProtocol).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ConnectUsingSettings</b></td><td><small>AppSettings appSettings</small></td><td class='center'><code>Boolean</code></td><td>Starts the &quot;process&quot; to connect as defined by the appSettings (AppId, AppVersion, Transport Protocol, Port and more).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Connect</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Privately used only for reconnecting.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ConnectToMasterServer</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Starts the &quot;process&quot; to connect to a Master Server, using MasterServerAddress and AppId properties.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ConnectToNameServer</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Connects to the NameServer for Photon Cloud, where a region and server list can be obtained.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ConnectToRegionMaster</b></td><td><small>String region</small></td><td class='center'><code>Boolean</code></td><td>Connects you to a specific region&#39;s Master Server, using the Name Server to get the IP.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CheckConnectSetupWebGl</b></td><td><small></small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>Connect</b></td><td><small>String serverAddress, String proxyServerAddress, ServerConnection serverType</small></td><td class='center'><code>Boolean</code></td><td>Privately used only for reconnecting.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ReconnectToMaster</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Can be used to reconnect to the master server after a disconnect.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ReconnectAndRejoin</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Can be used to return to a room quickly by directly reconnecting to a game server to rejoin a room.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Disconnect</b></td><td><small>DisconnectCause cause</small></td><td class='center'><code>Void</code></td><td>Disconnects the peer from a server or stays disconnected. If the client / peer was connected, a callback will be triggered.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>DisconnectToReconnect</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Private Disconnect variant that sets the state, too.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SimulateConnectionLoss</b></td><td><small>Boolean simulateTimeout</small></td><td class='center'><code>Void</code></td><td>Useful to test loss of connection which will end in a client timeout. This modifies LoadBalancingPeer.NetworkSimulationSettings. Read remarks.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CallAuthenticate</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Service</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>This method dispatches all available incoming commands and then sends this client&#39;s outgoing commands.
It uses DispatchIncomingCommands and SendOutgoingCommands to do that.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OpGetRegions</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>While on the NameServer, this gets you the list of regional servers (short names and their IPs to ping them).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpFindFriends</b></td><td><small>String[] friendsToFind, FindFriendsOptions options</small></td><td class='center'><code>Boolean</code></td><td>Request the rooms and online status for a list of friends. All clients should set a unique UserId before connecting. The result is available in this.FriendList.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpJoinLobby</b></td><td><small>TypedLobby lobby</small></td><td class='center'><code>Boolean</code></td><td>If already connected to a Master Server, this joins the specified lobby. This request triggers an OnOperationResponse() call and the callback OnJoinedLobby().</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpLeaveLobby</b></td><td><small></small></td><td class='center'><code>Boolean</code></td><td>Opposite of joining a lobby. You don&#39;t have to explicitly leave a lobby to join another (client can be in one max, at any time).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpJoinRandomRoom</b></td><td><small>OpJoinRandomRoomParams opJoinRandomRoomParams</small></td><td class='center'><code>Boolean</code></td><td>Joins a random room that matches the filter. Will callback: OnJoinedRoom or OnJoinRandomFailed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpJoinRandomOrCreateRoom</b></td><td><small>OpJoinRandomRoomParams opJoinRandomRoomParams, EnterRoomParams createRoomParams</small></td><td class='center'><code>Boolean</code></td><td>Attempts to join a room that matches the specified filter and creates a room if none found.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpCreateRoom</b></td><td><small>EnterRoomParams enterRoomParams</small></td><td class='center'><code>Boolean</code></td><td>Creates a new room. Will callback: OnCreatedRoom and OnJoinedRoom or OnCreateRoomFailed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpJoinOrCreateRoom</b></td><td><small>EnterRoomParams enterRoomParams</small></td><td class='center'><code>Boolean</code></td><td>Joins a specific room by name and creates it on demand. Will callback: OnJoinedRoom or OnJoinRoomFailed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpJoinRoom</b></td><td><small>EnterRoomParams enterRoomParams</small></td><td class='center'><code>Boolean</code></td><td>Joins a room by name. Will callback: OnJoinedRoom or OnJoinRoomFailed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpRejoinRoom</b></td><td><small>String roomName</small></td><td class='center'><code>Boolean</code></td><td>Rejoins a room by roomName (using the userID internally to return).  Will callback: OnJoinedRoom or OnJoinRoomFailed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpLeaveRoom</b></td><td><small>Boolean becomeInactive, Boolean sendAuthCookie</small></td><td class='center'><code>Boolean</code></td><td>Leaves the current room, optionally telling the server that the user is just becoming inactive. Will callback: OnLeftRoom.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpGetGameList</b></td><td><small>TypedLobby typedLobby, String sqlLobbyFilter</small></td><td class='center'><code>Boolean</code></td><td>Gets a list of rooms matching the (non empty) SQL filter for the given SQL-typed lobby.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpSetCustomPropertiesOfActor</b></td><td><small>Int32 actorNr, Hashtable propertiesToSet, Hashtable expectedProperties, WebFlags webFlags</small></td><td class='center'><code>Boolean</code></td><td>Updates and synchronizes a Player&#39;s Custom Properties. Optionally, expectedProperties can be provided as condition.</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>OpSetPropertiesOfActor</b></td><td><small>Int32 actorNr, Hashtable actorProperties, Hashtable expectedProperties, WebFlags webFlags</small></td><td class='center'><code>Boolean</code></td><td>Internally used to cache and set properties (including well known properties).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpSetCustomPropertiesOfRoom</b></td><td><small>Hashtable propertiesToSet, Hashtable expectedProperties, WebFlags webFlags</small></td><td class='center'><code>Boolean</code></td><td>Updates and synchronizes this Room&#39;s Custom Properties. Optionally, expectedProperties can be provided as condition.</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>OpSetPropertyOfRoom</b></td><td><small>Byte propCode, Object value</small></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>OpSetPropertiesOfRoom</b></td><td><small>Hashtable gameProperties, Hashtable expectedProperties, WebFlags webFlags</small></td><td class='center'><code>Boolean</code></td><td>Internally used to cache and set properties (including well known properties).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpRaiseEvent</b></td><td><small>Byte eventCode, Object customEventContent, RaiseEventOptions raiseEventOptions, SendOptions sendOptions</small></td><td class='center'><code>Boolean</code></td><td>Send an event with custom code/type and any content to the other players in the same room.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpChangeGroups</b></td><td><small>Byte[] groupsToRemove, Byte[] groupsToAdd</small></td><td class='center'><code>Boolean</code></td><td>Operation to handle this client&#39;s interest groups (for events in room).</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>ReadoutProperties</b></td><td><small>Hashtable gameProperties, Hashtable actorProperties, Int32 targetActorNr</small></td><td class='center'><code>Void</code></td><td>Privately used to read-out properties coming from the server in events and operation responses (which might be a bit tricky).</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>ReadoutPropertiesForActorNr</b></td><td><small>Hashtable actorProperties, Int32 actorNr</small></td><td class='center'><code>Hashtable</code></td><td>Privately used only to read properties for a distinct actor (which might be the hashtable OR a key-pair value IN the actorProperties).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ChangeLocalID</b></td><td><small>Int32 newID</small></td><td class='center'><code>Void</code></td><td>Internally used to set the LocalPlayer&#39;s ID (from -1 to the actual in-room ID).</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>GameEnteredOnGameServer</b></td><td><small>OperationResponse operationResponse</small></td><td class='center'><code>Void</code></td><td>Called internally, when a game was joined or created on the game server successfully.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>UpdatedActorList</b></td><td><small>Int32[] actorsInGame</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>CreatePlayer</b></td><td><small>String actorName, Int32 actorNumber, Boolean isLocal, Hashtable actorProperties</small></td><td class='center'><code>Player</code></td><td>Factory method to create a player instance - override to get your own player-type with custom features.</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>CreateRoom</b></td><td><small>String roomName, RoomOptions opt</small></td><td class='center'><code>Room</code></td><td>This client creates a room, gets into it (no need to join) and can set room properties.
Internal &quot;factory&quot; method to create a room-instance.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CheckIfOpAllowedOnServer</b></td><td><small>Byte opCode, ServerConnection serverConnection</small></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CheckIfOpCanBeSent</b></td><td><small>Byte opCode, ServerConnection serverConnection, String opName</small></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CheckIfClientIsReadyToCallOperation</b></td><td><small>Byte opCode</small></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>DebugReturn</b></td><td><small>DebugLevel level, String message</small></td><td class='center'><code>Void</code></td><td>Debug output of low level api (and this client).</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CallbackRoomEnterFailed</b></td><td><small>OperationResponse operationResponse</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnOperationResponse</b></td><td><small>OperationResponse operationResponse</small></td><td class='center'><code>Void</code></td><td>Uses the OperationResponses provided by the server to advance the internal state and call ops as needed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnStatusChanged</b></td><td><small>StatusCode statusCode</small></td><td class='center'><code>Void</code></td><td>Uses the connection&#39;s statusCodes to advance the internal state and call operations as needed.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnEvent</b></td><td><small>EventData photonEvent</small></td><td class='center'><code>Void</code></td><td>Uses the photonEvent&#39;s provided by the server to advance the internal state and call ops as needed.
Called for any incoming events.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnMessage</b></td><td><small>Object message</small></td><td class='center'><code>Void</code></td><td>In Photon 4, &quot;raw messages&quot; will get their own callback method in the interface. Not used yet.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OnDisconnectMessageReceived</b></td><td><small>DisconnectMessage obj</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OnRegionPingCompleted</b></td><td><small>RegionHandler regionHandler</small></td><td class='center'><code>Void</code></td><td>A callback of the RegionHandler, provided in OnRegionListReceived.</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><span class='tag tag-static'>S</span><b>ReplacePortWithAlternative</b></td><td><small>String address, UInt16 replacementPort</small></td><td class='center'><code>String</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>SetupEncryption</b></td><td><small>Dictionary`2 encryptionData</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OpWebRpc</b></td><td><small>String uriPath, Object parameters, Boolean sendAuthCookie</small></td><td class='center'><code>Boolean</code></td><td>This operation makes Photon call your custom web-service by path/name with the given parameters (converted into Json).
Use  as a callback.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AddCallbackTarget</b></td><td><small>Object target</small></td><td class='center'><code>Void</code></td><td>Registers an object for callbacks for the implemented callback-interfaces.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RemoveCallbackTarget</b></td><td><small>Object target</small></td><td class='center'><code>Void</code></td><td>Unregisters an object from callbacks for the implemented callback-interfaces.</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>UpdateCallbackTargets</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Applies queued callback cahnges from a queue to the actual containers. Will cause exceptions if used while callbacks execute.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>UpdateCallbackTarget</b></td><td><small>CallbackTargetChange change, List`1 container</small></td><td class='center'><code>Void</code></td><td></td></tr></tbody></table></div></div></body></html>