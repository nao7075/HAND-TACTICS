<!DOCTYPE html><html><head><meta charset='UTF-8'><title>PhotonView.cs - 詳細</title><link rel='stylesheet' href='../styles.css'></head><body><div class='container'><div class='nav-bar'><a href='../index.html'>&lt; トップページへ戻る</a> | <span>File: PhotonView.cs</span></div><div style='background:#666; color:white; padding:10px 15px; border-radius:5px; margin-bottom:20px;'>File Path: <span style='opacity:0.8'>Assets/Photon/PhotonUnityNetworking/Code/PhotonView.cs</span></div><div id='PhotonView' style='border:1px solid #ccc; border-top:none; padding:20px; background:white; margin-bottom:40px; border-radius:5px;'><h3><span><span class='tag tag-cls'>Class</span> PhotonView <span style='color:#7f8c8d; font-weight:normal; font-size:0.9em;'>: MonoBehaviour</span></span><span style='font-size:0.8em; font-weight:normal; color:#666;'>Photon.Pun</span></h3><div class='desc-box'>A PhotonView identifies an object across the network (viewID) and configures how the controlling client updates remote instances.</div><h4>フィールド (Variables)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th><th>属性・制約</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>ObservedComponentsFoldoutOpen</b></td><td class='center'><code>Boolean</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Group</b></td><td class='center'><code>Byte</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>prefixField</b></td><td class='center'><code>Int32</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>instantiationDataField</b></td><td class='center'><code>Object[]</code></td><td>This is the InstantiationData that was passed when calling PhotonNetwork.Instantiate* (if that was used to spawn this prefab)</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>lastOnSerializeDataSent</b></td><td class='center'><code>List`1</code></td><td>For internal use only, don&#39;t use</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>syncValues</b></td><td class='center'><code>List`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>lastOnSerializeDataReceived</b></td><td class='center'><code>Object[]</code></td><td>For internal use only, don&#39;t use</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Synchronization</b></td><td class='center'><code>ViewSynchronization</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>mixedModeIsReliable</b></td><td class='center'><code>Boolean</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OwnershipTransfer</b></td><td class='center'><code>OwnershipOption</code></td><td>Defines if ownership of this PhotonView is fixed, can be requested or simply taken.</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>observableSearch</b></td><td class='center'><code>ObservableSearch</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ObservedComponents</b></td><td class='center'><code>List`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>RpcMonoBehaviours</b></td><td class='center'><code>MonoBehaviour[]</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>ownerActorNr</b></td><td class='center'><code>Int32</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>controllerActorNr</b></td><td class='center'><code>Int32</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>sceneViewId</b></td><td class='center'><code>Int32</code></td><td>TODO: in best case, this is not public</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>viewIdField</b></td><td class='center'><code>Int32</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>InstantiationId</b></td><td class='center'><code>Int32</code></td><td>if the view was instantiated with a GO, this GO has a instantiationID (first view&#39;s viewID)</td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>isRuntimeInstantiated</b></td><td class='center'><code>Boolean</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>removedFromLocalViewList</b></td><td class='center'><code>Boolean</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>CallbackChangeQueue</b></td><td class='center'><code>Queue`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OnPreNetDestroyCallbacks</b></td><td class='center'><code>List`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OnOwnerChangeCallbacks</b></td><td class='center'><code>List`1</code></td><td></td><td class='center'></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OnControllerChangeCallbacks</b></td><td class='center'><code>List`1</code></td><td></td><td class='center'></td></tr></tbody></table><h4>プロパティ (Properties)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>型</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Prefix</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>InstantiationData</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Object[]</code></td><td>This is the InstantiationData that was passed when calling PhotonNetwork.Instantiate* (if that was used to spawn this prefab)</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsSceneView</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsRoomView</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>True if the PhotonView was loaded with the scene (game object) or instantiated with InstantiateRoomObject.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsOwnerActive</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td>True if the PhotonView was loaded with the scene (game object) or instantiated with InstantiateRoomObject.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>IsMine</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Boolean</code></td><td>True if the PhotonView was loaded with the scene (game object) or instantiated with InstantiateRoomObject.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AmController</b> <span style='font-size:0.8em; color:#888'>{ get;  }</span></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Controller</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Player</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>CreatorActorNr</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AmOwner</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Boolean</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>Owner</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Player</code></td><td>The owner of a PhotonView is the creator of an object by default Ownership can be transferred and the owner may not be in the room anymore. Objects in the scene don&#39;t have an owner.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OwnerActorNr</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ControllerActorNr</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ViewID</b> <span style='font-size:0.8em; color:#888'>{ get; set; }</span></td><td class='center'><code>Int32</code></td><td>The ID of the PhotonView. Identifies it in a networked game (per room).</td></tr></tbody></table><h4>メソッド (Methods)</h4><table><thead><tr><th>アクセス</th><th>名前</th><th>引数</th><th>戻り値</th><th>説明</th></tr></thead><tbody><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-static'>S</span><b>SetPhotonViewExecutionOrder</b></td><td><small></small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>OpenPunWizard</b></td><td><small></small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><span class='tag tag-magic'>Event</span><b>Reset</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Unity Event Function</td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><span class='tag tag-magic'>Event</span><b>Awake</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Will FindObservables() and assign the sceneViewId, if that is != 0. This initializes the PhotonView if loaded with the scene. Called once by Unity, when this instance is created.</td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>ResetPhotonView</b></td><td><small>Boolean resetOwner</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-internal'>internal</span></td><td><b>RebuildControllerCache</b></td><td><small>Boolean ownerHasChanged</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>OnPreNetDestroy</b></td><td><small>PhotonView rootView</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><span class='tag tag-magic'>Event</span><b>OnDestroy</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Unity Event Function</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RequestOwnership</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Depending on the PhotonView&#39;s OwnershipTransfer setting, any client can request to become owner of the PhotonView.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>TransferOwnership</b></td><td><small>Player newOwner</small></td><td class='center'><code>Void</code></td><td>Transfers the ownership of this PhotonView (and GameObject) to another player.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>TransferOwnership</b></td><td><small>Int32 newOwnerId</small></td><td class='center'><code>Void</code></td><td>Transfers the ownership of this PhotonView (and GameObject) to another player.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>FindObservables</b></td><td><small>Boolean force</small></td><td class='center'><code>Void</code></td><td>Will find IPunObservable components on this GameObject and nested children and add them to the ObservedComponents list.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>SerializeView</b></td><td><small>PhotonStream stream, PhotonMessageInfo info</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>DeserializeView</b></td><td><small>PhotonStream stream, PhotonMessageInfo info</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>DeserializeComponent</b></td><td><small>Component component, PhotonStream stream, PhotonMessageInfo info</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-protected internal'>protected internal</span></td><td><b>SerializeComponent</b></td><td><small>Component component, PhotonStream stream, PhotonMessageInfo info</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RefreshRpcMonoBehaviourCache</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Can be used to refesh the list of MonoBehaviours on this GameObject while PhotonNetwork.UseRpcMonoBehaviourCache is true.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RPC</b></td><td><small>String methodName, RpcTarget target, Object[] parameters</small></td><td class='center'><code>Void</code></td><td>Call a RPC method of this GameObject on remote clients of this room (or on all, including this client).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RpcSecure</b></td><td><small>String methodName, RpcTarget target, Boolean encrypt, Object[] parameters</small></td><td class='center'><code>Void</code></td><td>Call a RPC method of this GameObject on remote clients of this room (or on all, including this client).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RPC</b></td><td><small>String methodName, Player targetPlayer, Object[] parameters</small></td><td class='center'><code>Void</code></td><td>Call a RPC method of this GameObject on remote clients of this room (or on all, including this client).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RpcSecure</b></td><td><small>String methodName, Player targetPlayer, Boolean encrypt, Object[] parameters</small></td><td class='center'><code>Void</code></td><td>Call a RPC method of this GameObject on remote clients of this room (or on all, including this client).</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>Get</b></td><td><small>Component component</small></td><td class='center'><code>PhotonView</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>Get</b></td><td><small>GameObject gameObj</small></td><td class='center'><code>PhotonView</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><span class='tag tag-static'>S</span><b>Find</b></td><td><small>Int32 viewID</small></td><td class='center'><code>PhotonView</code></td><td>Finds the PhotonView Component with a viewID in the scene</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AddCallbackTarget</b></td><td><small>IPhotonViewCallback obj</small></td><td class='center'><code>Void</code></td><td>Add object to all applicable callback interfaces. Object must implement at least one IOnPhotonViewCallback derived interface.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RemoveCallbackTarget</b></td><td><small>IPhotonViewCallback obj</small></td><td class='center'><code>Void</code></td><td>Remove object from all applicable callback interfaces. Object must implement at least one IOnPhotonViewCallback derived interface.</td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>AddCallback</b></td><td><small>IPhotonViewCallback obj</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>RemoveCallback</b></td><td><small>IPhotonViewCallback obj</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>UpdateCallbackLists</b></td><td><small></small></td><td class='center'><code>Void</code></td><td>Apply any queued add/remove of interfaces from the callback lists. Typically called before looping callback lists.</td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>TryRegisterCallback</b></td><td><small>IPhotonViewCallback obj, List`1& list, Boolean add</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-private'>private</span></td><td><b>RegisterCallback</b></td><td><small>T obj, List`1& list, Boolean add</small></td><td class='center'><code>Void</code></td><td></td></tr><tr><td class='center'><span class='acc acc-public'>public</span></td><td><b>ToString</b></td><td><small></small></td><td class='center'><code>String</code></td><td></td></tr></tbody></table></div></div></body></html>