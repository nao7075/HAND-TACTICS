# **SpecGeneratorWindow.cs 導入・使用ガイド**

このガイドでは、Unityプロジェクト内のスクリプトからMarkdown形式の仕様書を自動生成するツール「SpecGeneratorWindow」の導入方法と使い方を説明します。

## **1\. 導入方法**

### **ステップ 1: Editorフォルダの確認**

Unityエディタの Project ビューを確認し、Assets フォルダの下に Editor という名前のフォルダがあるか確認してください。  
なければ、右クリック \> Create \> Folder で Editor フォルダを作成してください。  
※ Editor フォルダ内にあるスクリプトは、ゲームのビルドには含まれず、Unityエディタ機能としてのみ動作します。

### **ステップ 2: スクリプトの作成**

1. Assets/Editor フォルダ内で右クリックし、Create \> C\# Script を選択します。  
2. ファイル名を SpecGeneratorWindow に設定します。  
   ※ ファイル名はクラス名と一致している必要があります。大文字・小文字も正確に入力してください。

### **ステップ 3: コードの貼り付け**

1. 作成した SpecGeneratorWindow.cs を開き、中身をすべて削除します。  
2. 提供された「最新版」のコードをコピーし、ファイルに貼り付けて保存します。  
3. Unityエディタに戻り、コンパイルエラー（赤いエラーログ）が出ていないことを確認します。

## **2\. 使用方法**

### **ステップ 1: ツールの起動**

Unityエディタの上部メニューバーに Tools という項目が追加されています。  
Tools \> Generate Script Specification をクリックしてください。  
「Spec Gen」という小さなウィンドウが開きます。

### **ステップ 2: 仕様書の生成**

ウィンドウ内の "Generate Markdown Report" ボタンをクリックします。  
解析処理が走り、プログレスバーが表示されます。スクリプトの量によっては数秒～数十秒かかります。

### **ステップ 3: 生成物の確認**

処理が完了すると、自動的にファイルエクスプローラー（またはFinder）が開き、生成されたフォルダが表示されます。

出力先はプロジェクトフォルダの直下（Assetsフォルダの並び）にある ScriptDocs\_MD フォルダです。

**フォルダ構成:**

ScriptDocs\_MD/  
  ├── index.md          \# 仕様書のトップページ（フォルダ一覧）  
  ├── folders/          \# フォルダごとのファイル一覧ページ格納先  
  │    └── ...  
  └── files/            \# 各スクリプトの詳細仕様ページ格納先  
       ├── MyScript.cs.md  
       └── ...

## **3\. 生成される仕様書の内容**

このツールは、プロジェクト内の Assets フォルダ（Packages や Editor 除く）にある .cs ファイルを解析し、以下の情報をMarkdown化します。

* **トップページ (index.md)**:  
  * スクリプトが含まれるフォルダの一覧と、各フォルダのメトリクス（ファイル数、行数など）。  
* **フォルダページ (folders/xxx.md)**:  
  * そのフォルダに含まれるスクリプトファイルの一覧。  
* **詳細ページ (files/xxx.md)**:  
  * クラス/構造体/インターフェース/Enumの定義情報。  
  * 継承関係（基底クラス、インターフェース）。  
  * ドキュメントコメント（/// \<summary\> や行末コメント //）の内容。  
  * **フィールド**: 変数名、型、アクセス修飾子、属性（\[Header\] など）、制約（\[Range\] など）。  
  * **プロパティ**: 変数名、型、Getter/Setterの有無。  
  * **メソッド**: メソッド名、引数、戻り値、アクセス修飾子。  
  * **コンストラクタ**: 明示的に定義されている場合のみ出力。

## **4\. 注意点**

* **コンパイルエラー**: プロジェクト自体にコンパイルエラーがある場合、正しく解析できないことがあります。エラーを解消してから実行してください。  
* **文字コード**: 出力されるMarkdownファイルは UTF-8 エンコーディングです。  
* **Markdownビューア**: 生成されたファイルは、VS Code、GitHub、ObsidianなどのMarkdownビューアで閲覧することを推奨します。